{% extends 'WebProfilerBundle:Profiler:layout.html.twig' %}

{% block toolbar %}
    {# This toolbar item may appear along the top or bottom of the screen.#}
    {% set icon %}
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAACOUlEQVRIS7VV0XUaMRDcoQE7FQRXEKggpAKHCoIk/k0HsSsI/KNTXIFJBbErCKkguIKQArjNm3vSPXHcGfhAX9yx2tmdndmDXPjgwvnlJIAQQl9V34tIPxa0AfBqjNkcK7ATIIRwLSJ3qjrJEjfzEei7iCyMMds2sFYA7/09gDsRIUh1VPWfiMzi4xzAVZZwC2BujHloguwBsGpVfRKRUTNQVY1zjtWK934CILRU/AxgnHdTA8TkP0Vk0NbqiQC8ugbwKYHUAEVRsLovIvIDAHknLXx3GwHJcU1RRt9BPO855wzvVQAhhJGqsnqJ6M/N93lXcR6MveqKT+8rAO891UAZsuqVc27M30VRrLIOagwAN7vdbtDr9Z7eiF9ba4cIIQxU9VeD93V8PpiHqr465/qNQbfGAxiiKIo59X7MMNn/j9baSTazt64uCEC+PyatN/R9cLksy/F0Ol3ltDbnk+V4gfe+cmCv1xsZY9bL5fIzue0qC8A7KkhV/zRjEjhpL8uSnvjLDlREXqy1tbkI2uyEyuFasNbOvPczAN8aAFtrLcGrk5hJAEx4Q3O0DZ3JU4dRvqnCfF1QtkOyEE3LDq9JEZ33QURIFdVA5dQ7KBa0YOV5xR3i2Muhqr/ZQXJwpxpU9cE5d58HxIX49Yj6HnFsqDEBjcj2K0FECuid9H1oxeHQk5MPhtpyg3KmZ3jYTetSTPeSIRNA1/o9w3/7oWn71tuU1j/W8hlom/TtOOmbfEbig9CLA/wH15VD6TrJ7pQAAAAASUVORK5CYII=" alt=""/>
    <span class="sf-toolbar-status sf-toolbar-status-grey">{{ collector.context.latest.duration }} ms</span>
    {% endset %}

    {# Set the "link" value to false if you do not have a big "panel"
       section that you want to direct the user to. #}
    {{ include('@WebProfiler/Profiler/toolbar_item.html.twig', { 'link': true }) }}

{% endblock %}

{% block head %}
    {# Optional, if you need your own JS or CSS files. #}
    {{ parent() }} {# Use parent() to keep the default styles #}
{% endblock %}

{% block menu %}
    {# This left-hand menu appears when using the full-screen profiler. #}
    <span class="label">
        <span class="icon"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAACOUlEQVRIS7VV0XUaMRDcoQE7FQRXEKggpAKHCoIk/k0HsSsI/KNTXIFJBbErCKkguIKQArjNm3vSPXHcGfhAX9yx2tmdndmDXPjgwvnlJIAQQl9V34tIPxa0AfBqjNkcK7ATIIRwLSJ3qjrJEjfzEei7iCyMMds2sFYA7/09gDsRIUh1VPWfiMzi4xzAVZZwC2BujHloguwBsGpVfRKRUTNQVY1zjtWK934CILRU/AxgnHdTA8TkP0Vk0NbqiQC8ugbwKYHUAEVRsLovIvIDAHknLXx3GwHJcU1RRt9BPO855wzvVQAhhJGqsnqJ6M/N93lXcR6MveqKT+8rAO891UAZsuqVc27M30VRrLIOagwAN7vdbtDr9Z7eiF9ba4cIIQxU9VeD93V8PpiHqr465/qNQbfGAxiiKIo59X7MMNn/j9baSTazt64uCEC+PyatN/R9cLksy/F0Ol3ltDbnk+V4gfe+cmCv1xsZY9bL5fIzue0qC8A7KkhV/zRjEjhpL8uSnvjLDlREXqy1tbkI2uyEyuFasNbOvPczAN8aAFtrLcGrk5hJAEx4Q3O0DZ3JU4dRvqnCfF1QtkOyEE3LDq9JEZ33QURIFdVA5dQ7KBa0YOV5xR3i2Muhqr/ZQXJwpxpU9cE5d58HxIX49Yj6HnFsqDEBjcj2K0FECuid9H1oxeHQk5MPhtpyg3KmZ3jYTetSTPeSIRNA1/o9w3/7oWn71tuU1j/W8hlom/TtOOmbfEbig9CLA/wH15VD6TrJ7pQAAAAASUVORK5CYII=" alt=""/></span>
        <strong>Analytics</strong>
        <span class="count">{{ collector.context.latest.duration }} ms</span>
    </span>
{% endblock %}

{% block panel %}
    {# Optional, for showing the most details. #}
    <h2>Analytics Log</h2>
    <h3>Latest Request:</h3>
    <table >
        <thead>
            <tr>
                <th scope="col" style="width: 25%">Key</th>
                <th scope="col" style="width: 75%">Value</th>
            </tr>
        </thead>
        <tbody>
            {% for key in collector.context.latest|keys|sort %}
                <tr>
                    <th>{{ key }}</th>
                    <td>{{ profiler_dump(collector.context.latest[key]) }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <h3> Previous</h3>
    <table >
        <thead>
            <tr>
                <th scope="col" style="width: 20%">Created</th>
                <th scope="col" style="width: 10%">Duration</th>
                <th scope="col" style="width: 10%">Memory</th>
                <th scope="col" style="width: 60%">Uri</th>
            </tr>
        </thead>
        <tbody>
            {% for previous in collector.context.previous %}
                <tr>
                {% for key in previous|keys|sort %}
                  <td>{{ profiler_dump(previous[key]) }}</td>
                {% endfor %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
