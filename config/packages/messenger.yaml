framework:
    messenger:
        # Uncomment this (and the failed transport below) to send failed messages to this transport for later handling.
        # failure_transport: failed

        transports:
            async_priority_high:
                dsn: '%env(MESSENGER_TRANSPORT_DSN)%'
                options:
                    exchange:
                        name: high
            async_analytics_event:
                dsn: '%env(MESSENGER_TRANSPORT_DSN)%'
                options:
                    exchange:
                        name: '%kernel.environment%_%env(APP_SECRET)%_analytics_event'
            async_analytics_export:
                dsn: '%env(MESSENGER_TRANSPORT_DSN)%'
                options:
                    exchange:
                        name: '%kernel.environment%_%env(APP_SECRET)%_analytics_export'
            async_webhooks:
                dsn: '%env(MESSENGER_TRANSPORT_DSN)%'
                options:
                    exchange:
                        name: '%kernel.environment%_%env(APP_SECRET)%_webhooks'

        routing:
            'SWP\Bundle\CoreBundle\AnalyticsExport\ExportAnalytics': async_analytics_export
            'SWP\Bundle\AnalyticsBundle\Messenger\AnalyticsEvent': async_analytics_event
            'SWP\Bundle\CoreBundle\Webhook\Message\WebhookMessage': async_webhooks
